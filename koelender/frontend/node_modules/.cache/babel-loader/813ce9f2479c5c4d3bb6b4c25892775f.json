{"ast":null,"code":"import _classCallCheck from\"/home/malte/Documents/WT2-Projekt/koelender_git/koelender/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/malte/Documents/WT2-Projekt/koelender_git/koelender/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/malte/Documents/WT2-Projekt/koelender_git/koelender/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/malte/Documents/WT2-Projekt/koelender_git/koelender/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Filter=/*#__PURE__*/function(_React$Component){_inherits(Filter,_React$Component);var _super=_createSuper(Filter);function Filter(){var _this;_classCallCheck(this,Filter);_this=_super.call(this);_this.state={error:null,isLoaded:true,pruefungen:[],filteredPruefungen:[]};return _this;}_createClass(Filter,[{key:\"handleSelectedSite\",value:function handleSelectedSite(site){console.log(site);// Here I make a copy of the original data using json.stringify\n// so it doesn't mutate the original state\nvar aux=JSON.parse(JSON.stringify(this.state.pruefungen));// If it doesn't select a site we do nothing, data unfiltered\nif(site!==\"\"){aux=aux.filter(function(row){return row.site===site;});}this.setState({filteredPruefungen:aux});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch(\"http://localhost:8000/api/liste/\",{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(result){_this2.setState({isLoaded:true,pruefungen:result,filteredPruefungen:result});},function(error){_this2.setState({isLoaded:true,error:error});});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,error=_this$state.error,isLoaded=_this$state.isLoaded,pruefungen=_this$state.pruefungen;if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error.message]});}else if(!isLoaded){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}else{var pruefungenHeader=[];var pruefungenOptionen=[];if(pruefungen[0]){var pruefungenKeys=Object.keys(pruefungen[0]);for(var i=1;i<pruefungenKeys.length;i++){pruefungenOptionen[i]=new Array();}for(var _i=0;_i<pruefungen.length;_i++){var pruefungenValues=Object.values(pruefungen[_i]);console.log(pruefungenValues);for(var j=1;j<pruefungenValues.length;j++){pruefungenOptionen[j].push(/*#__PURE__*/_jsx(\"option\",{children:pruefungenValues[j]}));}}for(var _i2=1;_i2<pruefungenKeys.length;_i2++){pruefungenHeader.push(/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"select\",{style:{textTransform:\"capitalize\"},id:pruefungenKeys[_i2]+'_select',onChange:function onChange(e){return _this3.handleSelectedSite(e.target.value);},children:[/*#__PURE__*/_jsxs(\"option\",{value:\"\",disabled:true,selected:true,hidden:true,children:[pruefungenKeys[_i2],\"...\"]}),pruefungenOptionen[_i2]]})}));}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"sidebar\",className:\"sidenav\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"filter_btn\",onClick:function onClick(){return FilterScript();},children:[\"Filter \",\">\"]}),/*#__PURE__*/_jsxs(\"ul\",{id:\"sidemenu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"input\",{id:\"search\",type:\"text\",name:\"search\",placeholder:\"Suche...\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h3\",{id:\"filterHeader\",children:\"Filter\"})}),pruefungenHeader,/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{id:\"search_btn\",type:\"button\",children:\"Suchen\"})})]})]})});}}}]);return Filter;}(React.Component);export{Filter as default};function FilterScript(){var filter_btn=document.querySelector('.filter_btn');var filter_menu=document.querySelector('#sidebar');var outer_frame=document.querySelector('#outer_frame');var checkboxes=document.querySelector('#checkboxes');var columns_btn=document.querySelector('.hide_columns');filter_btn.classList.toggle('is-active');filter_menu.classList.toggle('is-active');outer_frame.classList.toggle('is-active');if(checkboxes!==null){checkboxes.classList.toggle('menu-is-active');columns_btn.classList.toggle('menu-is-active');}filter_btn.childNodes[0].data=filter_btn.childNodes[0].data===\"<\"?\"Filter >\":\"<\";filter_btn.childNodes[1].data=\"\";}","map":{"version":3,"sources":["/home/malte/Documents/WT2-Projekt/koelender_git/koelender/frontend/src/components/navigation/Filter.jsx"],"names":["React","Filter","state","error","isLoaded","pruefungen","filteredPruefungen","site","console","log","aux","JSON","parse","stringify","filter","row","setState","fetch","method","headers","then","response","json","result","message","pruefungenHeader","pruefungenOptionen","pruefungenKeys","Object","keys","i","length","Array","pruefungenValues","values","j","push","textTransform","e","handleSelectedSite","target","value","FilterScript","Component","filter_btn","document","querySelector","filter_menu","outer_frame","checkboxes","columns_btn","classList","toggle","childNodes","data"],"mappings":"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","sourcesContent":["import React from 'react';\n\nexport default class Filter extends React.Component {\n\n    constructor() {\n        super();\n        this.state = {\n            error:null,\n            isLoaded:true,\n            pruefungen: [],\n            filteredPruefungen: []\n        };\n    }\n\n    handleSelectedSite(site) {\n        console.log(site);\n        // Here I make a copy of the original data using json.stringify\n        // so it doesn't mutate the original state\n        let aux = JSON.parse(JSON.stringify(this.state.pruefungen));\n    \n        // If it doesn't select a site we do nothing, data unfiltered\n        if (site !== \"\") {\n          aux = aux.filter(row => row.site === site);\n        }\n    \n        this.setState({\n          filteredPruefungen: aux\n        });\n      }\n\n    componentDidMount() {\n        fetch(\"http://localhost:8000/api/liste/\",{\n            method:'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n        .then(response => response.json())\n        \n        .then(\n            (result) => {\n                this.setState({\n                    isLoaded: true,\n                    pruefungen: result,\n                    filteredPruefungen: result\n                });\n            },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n    }\n\n    render() {\n\n        const { error, isLoaded, pruefungen} = this.state;\n        \n        if(error) {return <div>Error: {error.message}</div>}\n        else if(!isLoaded) {return <div>Loading...</div>}\n\n        else {\n\n            var pruefungenHeader = [];\n            var pruefungenOptionen = [];\n\n            if(pruefungen[0]){\n                var pruefungenKeys = Object.keys(pruefungen[0]);\n\n                for(let i = 1; i<pruefungenKeys.length; i++){\n                    pruefungenOptionen[i] = new Array();\n                }\n\n                for(let i = 0; i<pruefungen.length; i++) {\n                    let pruefungenValues = Object.values(pruefungen[i]);\n                    console.log(pruefungenValues);\n                    for(let j = 1; j<pruefungenValues.length; j++){\n                        pruefungenOptionen[j].push(\n                            <option>{pruefungenValues[j]}</option>\n                        );\n                    }\n                    \n                }\n\n                for(let i = 1; i<pruefungenKeys.length; i++){\n                    pruefungenHeader.push(\n                    <li>\n                        <select style = {{textTransform: \"capitalize\"}} \n                            id = {pruefungenKeys[i]+'_select'}\n                            onChange={e => this.handleSelectedSite(e.target.value)}>\n                                <option value=\"\" disabled selected hidden>{pruefungenKeys[i]}...</option>\n                                {pruefungenOptionen[i]}\n                        </select>\n                    </li>);\n                }\n\n            }\n\n            return(\n                <>\n                <div id=\"sidebar\" className=\"sidenav\">\n                <button className=\"filter_btn\" onClick={()=>FilterScript()}>Filter {'\\u003E'}</button>\n                    <ul id=\"sidemenu\">\n                        <li><input id=\"search\" type=\"text\" name=\"search\" placeholder=\"Suche...\"/></li>\n                        <li>\n                            <h3 id=\"filterHeader\">Filter</h3>\n                        </li>\n                        \n                        {pruefungenHeader}\n                        {/*ToDo: Hier werden die Filteroptionen generiert*/}\n\n                        <li>\n                            <button id = \"search_btn\" type=\"button\">Suchen</button>\n                        </li>\n                    </ul>\n                </div>\n                </>\n            );\n        }\n    }\n}\n\nfunction FilterScript() {\n    const filter_btn = document.querySelector('.filter_btn');\n    const filter_menu = document.querySelector('#sidebar');\n    const outer_frame = document.querySelector('#outer_frame');\n    const checkboxes = document.querySelector('#checkboxes');\n    const columns_btn = document.querySelector('.hide_columns');\n\n    filter_btn.classList.toggle('is-active');\n    filter_menu.classList.toggle('is-active');\n    outer_frame.classList.toggle('is-active');\n    if(checkboxes !== null) {\n        checkboxes.classList.toggle('menu-is-active');\n        columns_btn.classList.toggle('menu-is-active');\n    }\n\n    filter_btn.childNodes[0].data = filter_btn.childNodes[0].data === \"<\" ? \"Filter >\" : \"<\";\n    filter_btn.childNodes[1].data = \"\";\n}"]},"metadata":{},"sourceType":"module"}